{
	"$schema": "https://vega.github.io/schema/vega-lite/v5.json",
	"title": {
		"text": "Total Expenditure vs Life Expectancy",
		"fontSize": 20,
		"anchor": "middle"
	},
	"width": "container",
	"height": 1000,
	"data": {
		"url": "https://raw.githubusercontent.com/wloo0014/3179-DataVis2/main/data/life_expectancy_ASEAN_cleaned.csv",
		"format": {
			"type": "csv",
			"parse": {
				"Year": "number",
				"Population": "number",
				"Measles": "number",
				"Polio": "number",
				"Infant deaths": "number",
				"Under-five deaths": "number",
				"Total expenditure": "number",
				"GDP": "number",
				"BMI": "number",
				"Thinness": "number",
				"Schooling": "number",
				"Life expectancy": "number"
			}
		}
	},
	"params": [
		{
			"name": "param_year",
			"value": 2000,
			"bind": {
				"input": "range", "min": 2000, "max": 2015, "step": 1,
				"name": "Year: "
			}
		}
	],
	"transform": [
		{"filter": "datum.Year == param_year"}
		
	],
	"hconcat": [
		{
			"width": 500,
			"height": 500,
			"mark": "bar",
			"encoding": {
				"y": {
					"field": "Country",
					"type": "nominal",
					"axis": null,
					"sort": "ascending"
				},
				"x": {
					"field": "Total expenditure",
					"type": "quantitative",
					"axis": {"format": "s"},
					"sort": "descending",
					"scale": {
						"domain": [0, 10]
					}
				},
				"color": {
					"field": "Country",
					"scale": {"range": ["#e60049", "#0bb4ff", "#50e991", "#e6d800", "#9b19f5", "#ffa300", "#dc0ab4", "#b3d4ff", "#00bfa0", "#7c1158"]},
					"legend": null
				}
			}
		},
		{
			"width": 50,
			"height": 500,
			"view": {"stroke": null},
			"mark": {
				"type": "text",
				"align": "center"
			},
			"encoding": {
				"y": {
					"field": "Country",
					"type": "ordinal",
					"axis": null,
					"sort": "ascending"
				},
				"text": {
					"field": "Country",
					"type": "nominal"
				}
			}
		},
		{
			"width": 500,
			"height": 500,
			"mark": {
				"type": "bar",
				"clip": true
			},
			"encoding": {
				"y": {
					"field": "Country", "type": "nominal",
					"axis": null,
					"sort": "ascending"
				},
				"x": {
					"field": "Life expectancy",
					"type": "quantitative",
					"axis": {"format": "s"},
					"scale": {
						"domain": [50, 90]
					}
				},
				"color": {
					"field": "Country",
					"scale": {"range": ["#e60049", "#0bb4ff", "#50e991", "#e6d800", "#9b19f5", "#ffa300", "#dc0ab4", "#b3d4ff", "#00bfa0", "#7c1158"]},
					"legend": {"orient": "top", "title": "Countries"}
				}
			}
		}
	],
	"config": {
		"view": {"stroke": null},
		"axis": {"grid": false}
	}
}